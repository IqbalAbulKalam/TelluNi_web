{
  "entities": {
    "BajuBodoDesign": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "BajuBodoDesign",
      "type": "object",
      "description": "Represents a Baju Bodo dress design available for rental.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the Baju Bodo design."
        },
        "name": {
          "type": "string",
          "description": "Name of the Baju Bodo design."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the image showcasing the Baju Bodo design.",
          "format": "uri"
        },
        "description": {
          "type": "string",
          "description": "Detailed description of the Baju Bodo design."
        },
        "rentalPrice": {
          "type": "number",
          "description": "Price for renting the Baju Bodo design."
        },
        "availableSizes": {
          "type": "array",
          "description": "Array of available sizes for the Baju Bodo design.",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "id",
        "name",
        "imageUrl",
        "description",
        "rentalPrice",
        "availableSizes"
      ]
    },
    "CustomerReview": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CustomerReview",
      "type": "object",
      "description": "Represents a customer review for TelluNi Fashion Store.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the customer review."
        },
        "customerName": {
          "type": "string",
          "description": "Name of the customer who provided the review."
        },
        "rating": {
          "type": "number",
          "description": "Rating given by the customer (e.g., 1-5 stars)."
        },
        "comment": {
          "type": "string",
          "description": "Text comment provided by the customer."
        },
        "reviewDate": {
          "type": "string",
          "description": "Date when the review was submitted.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "customerName",
        "rating",
        "comment",
        "reviewDate"
      ]
    },
    "CustomerGalleryImage": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CustomerGalleryImage",
      "type": "object",
      "description": "Represents an image in the customer gallery.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the gallery image."
        },
        "imageUrl": {
          "type": "string",
          "description": "URL of the customer gallery image.",
          "format": "uri"
        },
        "altText": {
          "type": "string",
          "description": "Alternative text for the image."
        }
      },
      "required": [
        "id",
        "imageUrl",
        "altText"
      ]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/bajuBodoDesigns/{bajuBodoDesignId}",
        "definition": {
          "entityName": "BajuBodoDesign",
          "schema": {
            "$ref": "#/backend/entities/BajuBodoDesign"
          },
          "description": "Stores information about each Baju Bodo design available for rental.",
          "params": [
            {
              "name": "bajuBodoDesignId",
              "description": "Unique identifier for the Baju Bodo design."
            }
          ]
        }
      },
      {
        "path": "/customerReviews/{customerReviewId}",
        "definition": {
          "entityName": "CustomerReview",
          "schema": {
            "$ref": "#/backend/entities/CustomerReview"
          },
          "description": "Stores customer reviews for the TelluNi Fashion Store.",
          "params": [
            {
              "name": "customerReviewId",
              "description": "Unique identifier for the customer review."
            }
          ]
        }
      },
      {
        "path": "/customerGalleryImages/{customerGalleryImageId}",
        "definition": {
          "entityName": "CustomerGalleryImage",
          "schema": {
            "$ref": "#/backend/entities/CustomerGalleryImage"
          },
          "description": "Stores images from the customer gallery.",
          "params": [
            {
              "name": "customerGalleryImageId",
              "description": "Unique identifier for the gallery image."
            }
          ]
        }
      }
    ],
    "reasoning": "The Firestore data structure is designed to support the TelluNi Fashion Store landing page, focusing on showcasing clothing collections and enabling easy booking. The structure prioritizes authorization independence and supports required queries, as well as future scaling. The structure is defined as follows:\n\n1.  **BajuBodoDesigns Collection:** This collection stores the information about each Baju Bodo design available for rent. It includes details like the name, image URL, description, rental price, and available sizes.\n2.  **CustomerReviews Collection:** This collection holds customer reviews for the TelluNi Fashion Store, including customer name, rating, comment, and review date.\n3.  **CustomerGalleryImages Collection:** This collection stores images from the customer gallery, including the image URL and alternative text.\n\n**Authorization Independence:**\nThe proposed structure doesn't require authorization independence, as any user can see `BajuBodoDesign`, `CustomerReview`, and `CustomerGalleryImage`. If in the future, the requirements changes so that only the admin can add, edit or delete data, we can implements DBAC roles in a dedicated collection (e.g., `/roles_admin/{uid}`) and use existence over content to check the user permission.\n\n**QAPs (Rules Are Not Filters):**\nThe structure supports the required `list` operations by segregating data with different access needs into different collections. This means that listing Baju Bodo designs, customer reviews, or customer gallery images can be done without needing to filter based on authorization rules. Segregation ensures each collection has a homogeneous security posture, simplifying the rules and improving performance."
  }
}